// ets_tracing: off
import * as C from "../../Cause/index.js";
import { pipe } from "../../Function/index.js";
import * as O from "../../Option/index.js";
import * as T from "../_internal/effect.js";
import * as M from "../_internal/managed.js";
import { Stream } from "./definitions.js";
/**
 * Transforms the full causes of failures emitted by this stream.
 */

export function mapErrorCause_(self, f) {
  return new Stream(M.map_(self.proc, T.mapErrorCause(x => O.fold_(C.sequenceCauseOption(x), () => C.fail(O.none), c => C.map(O.some)(f(c))))));
}
/**
 * Transforms the full causes of failures emitted by this stream.
 */

export function mapErrorCause(f) {
  return self => mapErrorCause_(self, f);
}
//# sourceMappingURL=mapErrorCause.js.map