// ets_tracing: off
import * as E from "../../../Either/index.js";
import { identity } from "../../../Function/index.js";
import * as Map from "./map.js";
import * as RaceBoth from "./raceBoth.js";
/**
 * Runs both sinks in parallel on the input, returning the result or the error from the
 * one that finishes first.
 */

export function race_(self, that) {
  return Map.map_(RaceBoth.raceBoth_(self, that), E.fold(identity, identity));
}
/**
 * Runs both sinks in parallel on the input, returning the result or the error from the
 * one that finishes first.
 */

export function race(that) {
  return self => race_(self, that);
}
//# sourceMappingURL=race.js.map