// ets_tracing: off
import * as O from "../../Option/index.js";
import * as T from "../deps-core.js";
import { addIfOpen } from "./addIfOpen.js";
import { release } from "./release.js";
export function add(finalizer) {
  return _ => T.map_(addIfOpen(finalizer)(_), O.fold(() => () => T.unit, k => e => release(k, e)(_)));
}
//# sourceMappingURL=add.js.map